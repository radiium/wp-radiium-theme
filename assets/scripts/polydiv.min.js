!function(t,n){"function"==typeof define&&define.amd?define([],n(t)):"object"==typeof exports?module.exports=n(t):t.Polydiv=n(t)}("undefined"!=typeof global?global:this.window||this.global,function(t){"use strict";return function(t){var n={items:[],settings:{}},e={itemClass:"polydiv"};n.init=function(t){this.settings=Object.assign({},e,t||{}),this.items=i(t.itemClass)},n.destroy=function(){this.settings=Object.assign({},e),this.unClipItems(),this.items=[]},n.clipItems=function(t){for(var n=0;n<this.items.length;n++){var e=o(),i=this.pointsToClipPathRule(e);this.items[n].style.clipPath=i}t&&"function"==typeof t&&t(0===this.items.length?"No items to clip...":null)},n.unClipItems=function(t){for(var n=0;n<this.items.length;n++)this.items[n].style.clipPath=""};var i=function(t){return document.querySelectorAll(t)};function o(){for(var t=h(6,180),n=[],e=0;e<t;e++)n.push({x:r(0,100),y:r(0,100)});return n}n.pointsToClipPathRule=function(t){for(var n=[],e=s(t),i=0;i<e.length;i++){var o=e[i];n.push(o.x+"% "+o.y+"%")}return"polygon("+n.join(",")+")"};var s=function(t){if(t.sort(l),t.length<=1)return t.slice();for(var n=[],e=0;e<t.length;e++){for(var i=t[e];2<=n.length;){var o=n[n.length-1],s=n[n.length-2];if(!((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x)))break;n.pop()}n.push(i)}n.pop();var r=[];for(e=t.length-1;0<=e;e--){for(i=t[e];2<=r.length&&(o=r[r.length-1],s=r[r.length-2],(o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x));)r.pop();r.push(i)}return r.pop(),1==n.length&&1==r.length&&n[0].x==r[0].x&&n[0].y==r[0].y?n:n.concat(r)},l=function(t,n){return t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0},r=function(t,n){return Math.floor(Math.random()*(n-t+1)+t)},h=function(){return Math.round(6*Math.pow(30,Math.random()))};return n.init(t),n}});