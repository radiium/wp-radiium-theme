function generateRandomClipPathRules(){for(var t=[],e=makeHull(generateRandomPoints()),n=0;n<e.length;n++){var o=e[n];t.push(o.x+"%"+o.y+"%")}return"-webkit-clip-path: polygon("+t.join(",")+");clip-path: polygon("+t.join(",")+");"}function generateRandomPoints(){for(var t=Math.round(6*Math.pow(30,Math.random())),e=[],n=0;n<t;n++)e.push({x:getRandomInt(0,100),y:getRandomInt(0,100)});return e}function generateRandomPoints2(){for(var t=Math.round(6*Math.pow(30,Math.random())),e=[],n=0;n<t;n++)e.push([getRandomInt(0,100),getRandomInt(0,100)]);return e}function makeHull(t){if(t.sort(POINT_COMPARATOR),t.length<=1)return t.slice();for(var e=[],n=0;n<t.length;n++){for(var o=t[n];2<=e.length;){var r=e[e.length-1],a=e[e.length-2];if(!((r.x-a.x)*(o.y-a.y)>=(r.y-a.y)*(o.x-a.x)))break;e.pop()}e.push(o)}e.pop();var l=[];for(n=t.length-1;0<=n;n--){for(o=t[n];2<=l.length;){r=l[l.length-1],a=l[l.length-2];if(!((r.x-a.x)*(o.y-a.y)>=(r.y-a.y)*(o.x-a.x)))break;l.pop()}l.push(o)}return l.pop(),1==e.length&&1==l.length&&e[0].x==l[0].x&&e[0].y==l[0].y?e:e.concat(l)}function POINT_COMPARATOR(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}function getRandomInt(t,e){return Math.floor(Math.random()*(e-t+1)+t)}jQuery(document).ready(function(o){var t="postsList",e="postsListItem",n=window.Shuffle,r=document.querySelector("."+t);if(r&&0<o(r).children().length){var a=new n(r,{itemSelector:"."+e,useTransforms:!0,isCentered:!0});o("."+e).each(function(t,e){var n=generateRandomClipPathRules();o(e).find("img").attr("style",n)}),imagesLoaded("."+t).on("done",function(){a.layout(),o(".hidenItem").removeClass("hidenItem")}),o(".toggleFiltersBtn").click(function(){o(".postControls").slideToggle(200)});var l=[];o(".postFilterBtn").click(function(){var t=o(this).data("filter");if("all"==t)l=[],o(".activ").removeClass("activ"),o(".postFilterAllBtn").addClass("activ");else{var e=l.indexOf(t);o(".postFilterAllBtn").removeClass("activ"),-1===e?(l.push(t),o(this).addClass("activ")):(l.splice(e,1),o(this).removeClass("activ")),l.length<1&&o(".postFilterAllBtn").addClass("activ")}a.filter(l)}),o(".postShuffleBtn").click(function(){a.sort({randomize:!0})}),o(".postReverseBtn").click(function(){var t=!0;a.lastSort&&null!==a.lastSort.reverse&&(t=!a.lastSort.reverse),a.sort({reverse:t})})}});